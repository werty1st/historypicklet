import{h as r,Component as a}from"https://unpkg.com/preact?module";import d from"https://unpkg.com/preact-custom-element?module";import l from"https://unpkg.com/htm?module";const m=l.bind(r);class o extends a{constructor(){super(...arguments);this.onClick=i=>{window.opener.postMessage(JSON.stringify({message:"reload",id:this.props.scmsid}),"https://www.zdf.de/")}}render({scmsid:i,title:e,leadParagraph:n}){return e||(e="loading..."),m`<li onClick=${this.onClick} >
        <a href="#"> ${e} </a>
        </li>`}}o.tagName="history-element",o.observedAttributes=["scmsid","lead-paragraph","title"],d(o);async function c(t,i){const e=JSON.parse(t),n=document.getElementById("historylist");let s=document.createElement("history-element");s.setAttribute("scmsid",i),s.setAttribute("lead-paragraph",e.leadParagraph),s.setAttribute("title",e.title),n.appendChild(s)}function p(){window.l1?(window.l1=!0,console.log("listener exists")):(window.addEventListener("message",t=>{t.origin=="https://www.zdf.de"&&(t.data.history&&c(t.data.history,t.data.externalId),console.log(t))}),document.addEventListener("DOMContentLoaded",function(){window.opener.postMessage(JSON.stringify({message:"ready"}),"https://www.zdf.de/")}),console.log("listener installed"))}p();
